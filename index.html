<!DOCTYPE html>
<html>
	<head>
		<title>Palladium 1227 Cleaning Schedule</title>
		<link rel="stylesheet" type="text/css" href="styles.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	</head>
	<body>
		<h1>Palladium 1227 Cleaning Schedule</h1>
		<h2>Week <span></span></h2>
		<div class="role">
			<h2>Kitchen</h2>
			<p id="kitchen">Unknown</p>
		</div>
		<div class="role">
			<h2>Bathroom</h2>
			<p id="bathroom">Unknown</p>
		</div>
		<div class="role">
			<h2>Common Room</h2>
			<p id="common-room">Unknown</p>
		</div>
		<div class="role">
			<h2>Garbage</h2>
			<p id="garbage">Unknown</p>
		</div>

		<script type="text/javascript">
			var firstWeek = new Date("2016-09-04");
			var today = new Date();
			var diff = Math.round(today - firstWeek);
			var weeks = Math.round(diff/1000/60/60/24/7);
			var rotation = weeks % 4;

			var people = ["Phil", "Namdi", "Jon", "Zach"];

			$(document).ready(function() {
				$("span").text(weeks);
				$("#kitchen").text(people[(rotation + 3) % 4]);
				$("#bathroom").text(people[(rotation + 2) % 4]);
				$("#common-room").text(people[(rotation + 1) % 4]);
				$("#garbage").text(people[(rotation + 0) % 4]);
			});
		</script>
	</body>
</html>